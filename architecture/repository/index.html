<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.111.3"><meta name=description content="Documentation for yaho"><meta name=author content="soer3n"><link rel=icon href=../../images/favicon.png type=image/png><title>Repositories :: yaho</title><link href=../../css/nucleus.css?1680458517 rel=stylesheet><link href=../../css/fontawesome-all.min.css?1680458517 rel=stylesheet><link href=../../css/hybrid.css?1680458517 rel=stylesheet><link href=../../css/featherlight.min.css?1680458517 rel=stylesheet><link href=../../css/perfect-scrollbar.min.css?1680458517 rel=stylesheet><link href=../../css/auto-complete.css?1680458517 rel=stylesheet><link href=../../css/atom-one-dark-reasonable.css?1680458517 rel=stylesheet><link href=../../css/theme.css?1680458517 rel=stylesheet><link href=../../css/tabs.css?1680458517 rel=stylesheet><link href=../../css/hugo-theme.css?1680458517 rel=stylesheet><link href=../../css/theme-blue.css?1680458517 rel=stylesheet><script src=../../js/jquery-3.3.1.min.js?1680458517></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=../../architecture/repository/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=../../><b>y</b>et <b>a</b>nother <b>h</b>elm <b>o</b>perator</a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=../../js/lunr.min.js?1680458517></script>
<script type=text/javascript src=../../js/auto-complete.js?1680458517></script>
<script type=text/javascript>var baseurl="https://soer3n.github.io/yaho"</script><script type=text/javascript src=../../js/search.js?1680458517></script></div><section id=homelinks><ul><li><a class=padding href=../../><i class='fas fa-home'></i> Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/installation/ title=Installation class=dd-item><a href=../../installation/>Installation</a></li><li data-nav-id=/architecture/ title=Architecture class="dd-item
parent"><a href=../../architecture/>Architecture</a><ul><li data-nav-id=/architecture/repository/ title=Repositories class="dd-item active"><a href=../../architecture/repository/>Repositories</a></li><li data-nav-id=/architecture/chart/ title=Charts class=dd-item><a href=../../architecture/chart/>Charts</a></li><li data-nav-id=/architecture/release/ title=Releases class=dd-item><a href=../../architecture/release/>Releases</a></li><li data-nav-id=/architecture/value/ title=Values class=dd-item><a href=../../architecture/value/>Values</a></li></ul></li><li data-nav-id=/configuration/ title=Configuration class=dd-item><a href=../../configuration/>Configuration</a><ul><li data-nav-id=/configuration/release/ title=Releases class=dd-item><a href=../../configuration/release/>Releases</a></li></ul></li><li data-nav-id=/development/ title=Development class=dd-item><a href=../../development/>Development</a></li><li data-nav-id=/usage/ title=Usage class=dd-item><a href=../../usage/>Usage</a><ul><li data-nav-id=/usage/repos_charts/ title="Respositories & Charts" class=dd-item><a href=../../usage/repos_charts/>Respositories & Charts</a></li><li data-nav-id=/usage/releases/ title=Releases class=dd-item><a href=../../usage/releases/>Releases</a></li></ul></li><li data-nav-id=/plans/ title="Plans & ToDos" class=dd-item><a href=../../plans/>Plans & ToDos</a></li><li data-nav-id=/contributing/ title=Contributing class=dd-item><a href=../../contributing/>Contributing</a></li></ul><section id=footer><center><a class=github-button href=https://github.com/soer3n/yaho data-icon=octicon-cloud-download aria-label="Download matcornic/hugo-theme-learn on GitHub">GitHub</a>
<a class=github-button href=https://github.com/soer3n/yaho/stargazers data-icon=octicon-star data-show-count=true aria-label="Star matcornic/hugo-theme-learn on GitHub">Star</a>
<a class=github-button href=https://github.com/soer3n/yaho/fork data-icon=octicon-repo-forked data-show-count=true aria-label="Fork matcornic/hugo-theme-learn on GitHub">Fork</a><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></center><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links>Repositories</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Repositories</h1><h4 id=repository>Repository</h4><blockquote><p>The repo resource represents an initialization of an helm repository. It is similar to helm cli commands &ldquo;helm repo add &mldr;&rdquo; and &ldquo;helm repo update &mldr;&rdquo; and downloads the repository index file for a given url to parse the content and create a configmap with chart index information for each specified chart. Or if no chart specified for each. It is also parsing the chart resources if they are specified in the chart list in the spec. See <a href=https://github.com/soer3n/apps-operator/blob/master/apis/yaho/v1alpha1/repo_types.go>here</a> for detailed information about the spec structure.</p></blockquote><div class=mermaid align=left>%%{init:{"theme":"forest", "mirrorActors":"true", "sequence": {"showSequenceNumbers":false, "wrap": false,"useMaxWidth": true}}}%%
sequenceDiagram
participant C AS client
participant R AS reconciler
participant M AS model
participant K AS kube-apiserver
participant H AS helm repository
C->>K: create/update repository object
R->>M: init model
M->>H: download repository
H-->>M: return response
M-->>R: return object
rect rgb(191, 223, 255)
loop create/update chart indices
M->>K: create/update chart index cm
end
end
R->>M: create/update specified chart objects
rect rgb(191, 223, 255)
loop create/update chart resources
M->>K: create/update chart custom resource
rect rgb(255, 255, 204)
alt error != nil
K-->>R: return error
end
end
end
end
# Note right of H: Rational thoughts<br>prevail...</div><p><br>\</p><h4 id=repogroups>RepoGroups</h4><blockquote><p>The repogroup resource represents a collection of helm repositories. This is needed if you want to deploy an helm release which has dependency charts which are part of different repositories. If dependencies are part of the same repository you don&rsquo;t need this. See <a href=https://github.com/soer3n/apps-operator/blob/master/apis/yaho/v1alpha1/repogroup_types.go>here</a> for detailed information about the spec structure.</p></blockquote><div class=mermaid align=center>%%{init:{"theme":"forest", "mirrorActors":"true", "useMaxWidth":"true", "sequence": {"showSequenceNumbers":false, "wrap": true, "width":350}, "sequenceConfig": {
"diagramMarginX": 50,
"diagramMarginY": 10,
"boxTextMargin": 5,
"noteMargin": 10,
"messageMargin": 35,
"mirrorActors": true
}}}%%
sequenceDiagram
participant C AS client
participant R AS reconciler
participant K AS kube-apiserver
C->>K: create/update repository group object
R->>K: get repositories by labels
rect rgb(191, 223, 255)
loop returned repository resources
rect rgb(255, 255, 204)
alt item is not in spec list
R->>K: remove repository resource
end
end
end
end
rect rgb(191, 223, 255)
loop specified repository resources
R->>K: create/update repository resource
end
end</div><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=../../architecture/ title=Architecture><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../../architecture/chart/ title=Charts style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=../../js/clipboard.min.js?1680458517></script>
<script src=../../js/perfect-scrollbar.min.js?1680458517></script>
<script src=../../js/perfect-scrollbar.jquery.min.js?1680458517></script>
<script src=../../js/jquery.sticky.js?1680458517></script>
<script src=../../js/featherlight.min.js?1680458517></script>
<script src=../../js/highlight.pack.js?1680458517></script>
<script>hljs.initHighlightingOnLoad()</script><script src=../../js/modernizr.custom-3.6.0.js?1680458517></script>
<script src=../../js/learn.js?1680458517></script>
<script src=../../js/hugo-learn.js?1680458517></script>
<script src=../../mermaid/mermaid.js?1680458517></script>
<script>mermaid.initialize({startOnLoad:!0})</script></body></html>